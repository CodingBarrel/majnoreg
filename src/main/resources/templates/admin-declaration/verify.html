<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>ЄШкода - Оновити заяву адміністратора</title>
</head>
<body>
<div th:insert="~{fragments/header :: header}"></div>
<div th:insert="~{fragments/navbar :: navbar}"></div>

<div class="container mt-4">
    <h2>Деталі заяви</h2>
    <p>ID: <span th:text="${declaration.id}"></span></p>
    <p>Користувач: <span th:text="${declaration.userInformation.firstName} + ' ' + ${declaration.userInformation.surname} + ' ' + ${declaration.userInformation.middleName}"></span></p>
    <p>Тип майна: <span th:text="${declaration.propertyType.name}"></span></p>
    <p>Адреса: <span th:text="${declaration.address}"></span></p>
    <p>Опис: <span th:text="${declaration.description}"></span></p>
    <p>Прикріплені файли: <span th:text="${declaration.fileNames}"></span></p>
    <p>Час надсилання: <span th:text="${declaration.sendTime}"></span></p>
    <p>Час останнього оновлення: <span th:text="${declaration.lastUpdateTime}"></span></p>

    <form th:method="patch" th:action="@{/admin-declarations/{id} (id=${declaration.id})}" class="mt-3">
        <div class="form-group">
            <label for="status">Стан:</label>
            <select id="status" name="statusId" class="form-control">
                <option th:each="status : ${declarationStatuses}" th:value="${status.id}"
                        th:text="${status.name}" th:selected="${status.id == declaration.status.id}"></option>
            </select>
        </div>
        <button type="submit" class="btn btn-primary">Змінити стан</button>
    </form>
</div>
</body>
</html>